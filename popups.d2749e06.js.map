{"version":3,"sources":["scripts/popups.js"],"names":["popupLinks","document","querySelectorAll","body","querySelector","lockPadding","unlock","timeout","length","index","popupLink","addEventListener","e","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","closest","curentPopup","popupActive","bodyLock","classList","add","target","doUnlock","remove","bodyUnLock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","setTimeout","which","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],"mappings":";AAAA,aAGA,IAAMA,EAAaC,SAASC,iBAAiB,eACvCC,EAAOF,SAASG,cAAc,QAC9BC,EAAcJ,SAASC,iBAAiB,iBAC1CI,GAAS,EACPC,EAAU,IAEhB,GAAIP,EAAWQ,OAAS,EACjB,IAAIC,IAAAA,EAAAA,SAAAA,GACDC,IAAAA,EAAYV,EAAWS,GAE7BC,EAAUC,iBAAiB,QAAS,SAASC,GACrCC,IAAAA,EAAYH,EAAUI,aAAa,QAAQC,QAAQ,IAAK,IAG9DC,EAFqBf,SAASgB,eAAeJ,IAG7CD,EAAEM,oBARGT,EAAQ,EAAGA,EAAQT,EAAWQ,OAAQC,IAAtCA,EAAAA,GAaX,IAAMU,EAAiBlB,SAASC,iBAAiB,gBAEjD,GAAIiB,EAAeX,OAAS,EACrB,IAAIC,IAAAA,EAAAA,SAAAA,GACDW,IAAAA,EAAKD,EAAeV,GAE1BW,EAAGT,iBAAiB,QAAS,SAASC,GACpCS,EAAWD,EAAGE,QAAQ,WACtBV,EAAEM,oBALGT,EAAQ,EAAGA,EAAQU,EAAeX,OAAQC,IAA1CA,EAAAA,GAUX,SAASO,EAAUO,GACbA,GAAAA,GAAejB,EAAQ,CACnBkB,IAAAA,EAAcvB,SAASG,cAAc,eAEvCoB,EACFH,EAAWG,GAAa,GAExBC,IAEFF,EAAYG,UAAUC,IAAI,QAE1BJ,EAAYZ,iBAAiB,QAAS,SAASC,GACxCA,EAAEgB,OAAON,QAAQ,oBACpBD,EAAWT,EAAEgB,OAAON,QAAQ,cAMpC,SAASD,EAAWG,GAAaK,IAAAA,IAAW,UAAA,OAAA,QAAA,IAAA,UAAA,KAAA,UAAA,GACtCvB,IACFkB,EAAYE,UAAUI,OAAO,QAEzBD,GACFE,KAKN,SAASN,IACDO,IAAAA,EAAmBC,OAAOC,WAC5BjC,SAASG,cAAc,SAAS+B,YAAc,KAE9C9B,GAAAA,EAAYG,OAAS,EAClB,IAAA,IAAIC,EAAQ,EAAGA,EAAQJ,EAAYG,OAAQC,IAAS,CAC5CJ,EAAYI,GAEpB2B,MAAMC,aAAeL,EAG5B7B,EAAKiC,MAAMC,aAAeL,EAC1B7B,EAAKuB,UAAUC,IAAI,QAEnBrB,GAAS,EAETgC,WAAW,WACThC,GAAS,GACRC,GAGL,SAASwB,IACPO,WAAW,WACLjC,GAAAA,EAAYG,OAAS,EAClB,IAAA,IAAIC,EAAQ,EAAGA,EAAQJ,EAAYG,OAAQC,IAAS,CAC5CJ,EAAYI,GAEpB2B,MAAMC,aAAe,MAG5BlC,EAAKiC,MAAMC,aAAe,MAC1BlC,EAAKuB,UAAUI,OAAO,SACrBvB,GAEHD,GAAS,EAETgC,WAAW,WACThC,GAAS,GACRC,GAGLN,SAASU,iBAAiB,UAAW,SAASC,GAC5B,KAAZA,EAAE2B,OAGJlB,EAFoBpB,SAASG,cAAc,kBAOxCoC,QAAQC,UAAUnB,UACrBkB,QAAQC,UAAUnB,QAAU,SAASoB,GAG5BC,IAFHA,IAAAA,EAAO,KAEJA,GAAM,CACPA,GAAAA,EAAKC,QAAQF,GACRC,OAAAA,EAEPA,EAAOA,EAAKE,cAIT,OAAA,OAMNL,QAAQC,UAAUG,UACrBJ,QAAQC,UAAUG,QAAUJ,QAAQC,UAAUK,iBACzCN,QAAQC,UAAUM,uBAClBP,QAAQC,UAAUO,oBAClBR,QAAQC,UAAUQ","file":"popups.d2749e06.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n/* global Element */\n\nconst popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll('.lock-padding');\nlet unlock = true;\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n  for (let index = 0; index < popupLinks.length; index++) {\n    const popupLink = popupLinks[index];\n\n    popupLink.addEventListener('click', function(e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const currentPopup = document.getElementById(popupName);\n\n      popupOpen(currentPopup);\n      e.preventDefault();\n    });\n  }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\n\nif (popupCloseIcon.length > 0) {\n  for (let index = 0; index < popupCloseIcon.length; index++) {\n    const el = popupCloseIcon[index];\n\n    el.addEventListener('click', function(e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  }\n}\n\nfunction popupOpen(curentPopup) {\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup.open');\n\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('open');\n\n    curentPopup.addEventListener('click', function(e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n  }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('open');\n\n    if (doUnlock) {\n      bodyUnLock();\n    }\n  }\n}\n\nfunction bodyLock() {\n  const lockPaddingValue = window.innerWidth\n    - document.querySelector('.body').offsetWidth + 'px';\n\n  if (lockPadding.length > 0) {\n    for (let index = 0; index < lockPadding.length; index++) {\n      const el = lockPadding[index];\n\n      el.style.paddingRight = lockPaddingValue;\n    }\n  }\n  body.style.paddingRight = lockPaddingValue;\n  body.classList.add('lock');\n\n  unlock = false;\n\n  setTimeout(function() {\n    unlock = true;\n  }, timeout);\n}\n\nfunction bodyUnLock() {\n  setTimeout(function() {\n    if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n\n        el.style.paddingRight = '0px';\n      }\n    }\n    body.style.paddingRight = '0px';\n    body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n\n  setTimeout(function() {\n    unlock = true;\n  }, timeout);\n}\n\ndocument.addEventListener('keydown', function(e) {\n  if (e.which === 27) {\n    const popupActive = document.querySelector('.popup.open');\n\n    popupClose(popupActive);\n  }\n});\n\n(function() {\n  if (!Element.prototype.closest) {\n    Element.prototype.closest = function(css) {\n      let node = this;\n\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n\n      return null;\n    };\n  }\n})();\n\n(function() {\n  if (!Element.prototype.matches) {\n    Element.prototype.matches = Element.prototype.matchesSelector\n      || Element.prototype.webkitMatchesSelector\n      || Element.prototype.mozMatchesSelector\n      || Element.prototype.msMatchesSelector;\n  }\n})();\n"]}